# éƒ¨ç½²æŒ‡å—

æœ¬æ–‡æ¡£ä»‹ç»å¦‚ä½•å°† CNUserGroup ç½‘ç«™éƒ¨ç½²åˆ° GitHub Pagesã€‚

## å‰ç½®è¦æ±‚

- Node.js 18.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- npm æˆ– yarn åŒ…ç®¡ç†å™¨
- Git ç‰ˆæœ¬æ§åˆ¶
- GitHub è´¦æˆ·

## è‡ªåŠ¨éƒ¨ç½² (æ¨è)

### 1. GitHub Actions è‡ªåŠ¨éƒ¨ç½²

é¡¹ç›®å·²é…ç½® GitHub Actions å·¥ä½œæµï¼Œæ¨é€åˆ° `main` åˆ†æ”¯æ—¶ä¼šè‡ªåŠ¨éƒ¨ç½²ã€‚

#### è®¾ç½®æ­¥éª¤ï¼š

1. **Fork æˆ–å…‹éš†ä»“åº“**
   ```bash
   git clone https://github.com/your-username/cnusergroup-website.git
   cd cnusergroup-website
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   npm install
   ```

3. **é…ç½® GitHub Pages**
   - è¿›å…¥ GitHub ä»“åº“è®¾ç½®
   - æ‰¾åˆ° "Pages" é€‰é¡¹
   - Source é€‰æ‹© "GitHub Actions"

4. **æ¨é€ä»£ç **
   ```bash
   git add .
   git commit -m "Initial commit"
   git push origin main
   ```

5. **ç­‰å¾…éƒ¨ç½²å®Œæˆ**
   - æŸ¥çœ‹ Actions æ ‡ç­¾é¡µçš„éƒ¨ç½²çŠ¶æ€
   - éƒ¨ç½²å®Œæˆåè®¿é—® `https://your-username.github.io/cnusergroup-website`

### 2. éƒ¨ç½²è„šæœ¬

#### å¿«é€Ÿæ£€æŸ¥
```bash
npm run deploy:check
```
ä»…æ‰§è¡Œæ£€æŸ¥ï¼Œä¸è¿›è¡Œæ„å»ºï¼Œé€‚åˆå¿«é€ŸéªŒè¯é¡¹ç›®çŠ¶æ€ã€‚

#### å®Œæ•´éƒ¨ç½²å‡†å¤‡ï¼ˆæ¨èï¼‰
```bash
npm run deploy:ready
```
æ‰§è¡Œå®Œæ•´çš„éƒ¨ç½²å‡†å¤‡æµç¨‹ï¼š
- âœ… æ£€æŸ¥ç¯å¢ƒå’Œä¾èµ–
- ğŸ§¹ æ¸…ç†æ—§æ–‡ä»¶
- ğŸ“¦ å®‰è£…/æ›´æ–°ä¾èµ–
- ğŸ”¨ æ„å»ºé¡¹ç›®
- ğŸ“ åˆ›å»ºéƒ¨ç½²æ–‡ä»¶
- ğŸ“‹ ç”Ÿæˆéƒ¨ç½²æŠ¥å‘Š

#### ä¸€é”®å®Œæ•´éƒ¨ç½²
```bash
npm run deploy:full
```
è‡ªåŠ¨åŒ–å®Œæ•´éƒ¨ç½²æµç¨‹ï¼š
- æ£€æŸ¥ Git çŠ¶æ€å¹¶æäº¤æ›´æ”¹
- æ‰§è¡Œéƒ¨ç½²å‡†å¤‡
- æ¨é€åˆ° GitHub
- ç­‰å¾… GitHub Actions éƒ¨ç½²
- éªŒè¯éƒ¨ç½²ç»“æœ

#### éƒ¨ç½²åéªŒè¯
```bash
npm run deploy:verify
```
éªŒè¯éƒ¨ç½²åçš„ç½‘ç«™çŠ¶æ€ï¼š
- ç½‘ç«™è¿é€šæ€§æµ‹è¯•
- é¡µé¢å†…å®¹æ£€æŸ¥
- æ€§èƒ½æŒ‡æ ‡æµ‹è¯•
- SEO ä¼˜åŒ–æ£€æŸ¥

## æ‰‹åŠ¨éƒ¨ç½²

### 1. æœ¬åœ°æ„å»º

```bash
# å¼€å‘ç¯å¢ƒé¢„è§ˆ
npm run dev

# ç”Ÿäº§ç¯å¢ƒæ„å»º
npm run build

# ç”Ÿäº§ç¯å¢ƒé¢„è§ˆ
npm run preview:prod
```

### 2. éƒ¨ç½²åˆ° GitHub Pages

```bash
# ä½¿ç”¨ gh-pages åŒ…éƒ¨ç½²
npm run deploy
```

## é…ç½®è¯´æ˜

### Astro é…ç½® (astro.config.mjs)

```javascript
export default defineConfig({
  site: 'https://cnusergroup.github.io',
  base: '/cnusergroup-website',
  output: 'static'
});
```

### GitHub Actions é…ç½® (.github/workflows/deploy.yml)

å·¥ä½œæµåŒ…å«ä»¥ä¸‹æ­¥éª¤ï¼š
1. æ£€å‡ºä»£ç 
2. è®¾ç½® Node.js ç¯å¢ƒ
3. å®‰è£…ä¾èµ–
4. æ„å»ºé¡¹ç›®
5. éƒ¨ç½²åˆ° GitHub Pages

### æ„å»ºä¼˜åŒ–

æ„å»ºè¿‡ç¨‹ä¼šè‡ªåŠ¨ï¼š
- åˆ›å»º `.nojekyll` æ–‡ä»¶
- ç”Ÿæˆ `robots.txt`
- ç”Ÿæˆ `sitemap.xml`
- ä¼˜åŒ– HTML æ–‡ä»¶
- æ·»åŠ å®‰å…¨å¤´éƒ¨

## è‡ªå®šä¹‰åŸŸå

### 1. é…ç½® CNAME

ç¼–è¾‘ `public/CNAME` æ–‡ä»¶ï¼š
```
your-domain.com
```

### 2. DNS è®¾ç½®

åœ¨åŸŸåæä¾›å•†å¤„æ·»åŠ  CNAME è®°å½•ï¼š
```
CNAME  www  your-username.github.io
```

æˆ–æ·»åŠ  A è®°å½•æŒ‡å‘ GitHub Pages IPï¼š
```
A  @  185.199.108.153
A  @  185.199.109.153
A  @  185.199.110.153
A  @  185.199.111.153
```

## ç¯å¢ƒå˜é‡

### GitHub Secrets

å¦‚æœéœ€è¦ç¯å¢ƒå˜é‡ï¼Œåœ¨ GitHub ä»“åº“è®¾ç½®ä¸­æ·»åŠ  Secretsï¼š

- `ANALYTICS_ID`: åˆ†ææœåŠ¡ ID
- `API_KEY`: API å¯†é’¥ï¼ˆå¦‚æœéœ€è¦ï¼‰

### æœ¬åœ°å¼€å‘

åˆ›å»º `.env` æ–‡ä»¶ï¼š
```
PUBLIC_ANALYTICS_ID=your-analytics-id
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **404 é”™è¯¯**
   - æ£€æŸ¥ `base` é…ç½®æ˜¯å¦æ­£ç¡®
   - ç¡®ä¿ `.nojekyll` æ–‡ä»¶å­˜åœ¨

2. **èµ„æºåŠ è½½å¤±è´¥**
   - æ£€æŸ¥å›¾ç‰‡è·¯å¾„æ˜¯å¦æ­£ç¡®
   - ç¡®ä¿æ‰€æœ‰èµ„æºä½¿ç”¨ç›¸å¯¹è·¯å¾„

3. **æ„å»ºå¤±è´¥**
   - æ£€æŸ¥ Node.js ç‰ˆæœ¬
   - è¿è¡Œ `npm run pre-deploy` æ£€æŸ¥é—®é¢˜

4. **æ ·å¼ä¸¢å¤±**
   - æ£€æŸ¥ CSS æ–‡ä»¶è·¯å¾„
   - ç¡®ä¿ Tailwind CSS æ­£ç¡®é…ç½®

### è°ƒè¯•æ­¥éª¤

1. **æœ¬åœ°æµ‹è¯•**
   ```bash
   npm run build
   npm run preview:prod
   ```

2. **æ£€æŸ¥æ„å»ºè¾“å‡º**
   ```bash
   ls -la dist/
   ```

3. **æŸ¥çœ‹ GitHub Actions æ—¥å¿—**
   - è¿›å…¥ Actions æ ‡ç­¾é¡µ
   - ç‚¹å‡»å¤±è´¥çš„å·¥ä½œæµ
   - æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

## æ€§èƒ½ä¼˜åŒ–

### å›¾ç‰‡ä¼˜åŒ–

- ä½¿ç”¨ WebP æ ¼å¼
- å®ç°å“åº”å¼å›¾ç‰‡
- å¯ç”¨æ‡’åŠ è½½

### ä»£ç ä¼˜åŒ–

- å¯ç”¨ä»£ç åˆ†å‰²
- å‹ç¼© CSS å’Œ JS
- ä½¿ç”¨ CDN åŠ é€Ÿ

### ç¼“å­˜ç­–ç•¥

- è®¾ç½®é€‚å½“çš„ç¼“å­˜å¤´
- ä½¿ç”¨ç‰ˆæœ¬åŒ–èµ„æº
- å¯ç”¨æµè§ˆå™¨ç¼“å­˜

## ç›‘æ§å’Œåˆ†æ

### æ€§èƒ½ç›‘æ§

- ä½¿ç”¨ Lighthouse æ£€æŸ¥æ€§èƒ½
- ç›‘æ§ Core Web Vitals
- è®¾ç½®æ€§èƒ½é¢„ç®—

### åˆ†æé›†æˆ

- Google Analytics
- ç™¾åº¦ç»Ÿè®¡
- è‡ªå®šä¹‰åˆ†æ

## å®‰å…¨è€ƒè™‘

### å†…å®¹å®‰å…¨ç­–ç•¥

- è®¾ç½® CSP å¤´éƒ¨
- é˜²æ­¢ XSS æ”»å‡»
- å¯ç”¨ HTTPS

### è®¿é—®æ§åˆ¶

- é…ç½®é€‚å½“çš„ robots.txt
- è®¾ç½®è®¿é—®é™åˆ¶
- ç›‘æ§å¼‚å¸¸è®¿é—®

## å¤‡ä»½å’Œæ¢å¤

### ä»£ç å¤‡ä»½

- å®šæœŸæ¨é€åˆ° GitHub
- åˆ›å»ºå‘å¸ƒæ ‡ç­¾
- ç»´æŠ¤å¤šä¸ªåˆ†æ”¯

### æ•°æ®å¤‡ä»½

- å¤‡ä»½é…ç½®æ–‡ä»¶
- ä¿å­˜å›¾ç‰‡èµ„æº
- è®°å½•éƒ¨ç½²å†å²

## æ›´æ–°å’Œç»´æŠ¤

### ä¾èµ–æ›´æ–°

```bash
# æ£€æŸ¥è¿‡æ—¶çš„åŒ…
npm outdated

# æ›´æ–°ä¾èµ–
npm update

# å®‰å…¨å®¡è®¡
npm audit
```

### å†…å®¹æ›´æ–°

1. æ›´æ–°åŸå¸‚æ•°æ®
2. æ·»åŠ æ–°åŠŸèƒ½
3. ä¿®å¤ bug
4. ä¼˜åŒ–æ€§èƒ½

### ç‰ˆæœ¬ç®¡ç†

- ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬
- åˆ›å»ºå˜æ›´æ—¥å¿—
- æ ‡è®°é‡è¦ç‰ˆæœ¬