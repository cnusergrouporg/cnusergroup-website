# éƒ¨ç½²è„šæœ¬ä½¿ç”¨ç¤ºä¾‹

## ğŸš€ å¸¸è§éƒ¨ç½²åœºæ™¯

### åœºæ™¯ 1: é¦–æ¬¡éƒ¨ç½²
```bash
# 1. å¿«é€Ÿæ£€æŸ¥é¡¹ç›®çŠ¶æ€
npm run deploy:check

# 2. å¦‚æœæ£€æŸ¥é€šè¿‡ï¼Œæ‰§è¡Œå®Œæ•´éƒ¨ç½²
npm run deploy:full
```

### åœºæ™¯ 2: æ—¥å¸¸æ›´æ–°éƒ¨ç½²
```bash
# ä¿®æ”¹ä»£ç åï¼Œä¸€é”®éƒ¨ç½²
npm run deploy:full
```

### åœºæ™¯ 3: ä»…æ£€æŸ¥ä¸éƒ¨ç½²
```bash
# éªŒè¯é¡¹ç›®çŠ¶æ€ï¼Œä¸æ‰§è¡Œæ„å»º
npm run deploy:check
```

### åœºæ™¯ 4: æ‰‹åŠ¨åˆ†æ­¥éƒ¨ç½²
```bash
# 1. å‡†å¤‡éƒ¨ç½²
npm run deploy:ready

# 2. æ‰‹åŠ¨æäº¤å’Œæ¨é€
git add .
git commit -m "Update website"
git push origin main

# 3. ç­‰å¾… GitHub Actions å®ŒæˆåéªŒè¯
npm run deploy:verify
```

## ğŸ“Š è„šæœ¬è¾“å‡ºç¤ºä¾‹

### deploy:check è¾“å‡º
```
ğŸ” å¼€å§‹æœ€ç»ˆéƒ¨ç½²æ£€æŸ¥...

ğŸ“ æ£€æŸ¥å¿…è¦æ–‡ä»¶...
âœ… package.json
âœ… astro.config.mjs
âœ… src/pages/index.astro
âœ… src/pages/cities.astro

ğŸ“Š æ£€æŸ¥æ•°æ®æ–‡ä»¶...
âœ… src/data/cities.json - JSON æ ¼å¼æ­£ç¡®
âœ… src/data/translations/zh.json - JSON æ ¼å¼æ­£ç¡®

ğŸ–¼ï¸ æ£€æŸ¥å›¾ç‰‡èµ„æº...
âœ… public/images/cities - 15 ä¸ªå›¾ç‰‡æ–‡ä»¶
âœ… public/images/ui - 8 ä¸ªå›¾ç‰‡æ–‡ä»¶

ğŸ“Š æ£€æŸ¥ç»“æœ: 21/21 (100%)
ğŸ‰ æ‰€æœ‰æ£€æŸ¥é€šè¿‡ï¼é¡¹ç›®å·²å‡†å¤‡å¥½éƒ¨ç½²åˆ° GitHubï¼
```

### deploy:ready è¾“å‡º
```
ğŸš€ CNUserGroup ç½‘ç«™éƒ¨ç½²å‡†å¤‡
================================

ğŸ”§ æ£€æŸ¥ç¯å¢ƒ...
âœ… Node.js ç‰ˆæœ¬ v18.17.0 (éœ€è¦ â‰¥18)
âœ… npm å¯ç”¨

ğŸ“ æ£€æŸ¥é¡¹ç›®æ–‡ä»¶...
âœ… package.json
âœ… astro.config.mjs
[... æ›´å¤šæ£€æŸ¥é¡¹ç›® ...]

ğŸ§¹ æ¸…ç†æ—§æ–‡ä»¶...
ğŸ—‘ï¸  å·²åˆ é™¤: dist
ğŸ—‘ï¸  å·²åˆ é™¤: .astro

ğŸ“¥ å®‰è£…/æ›´æ–°ä¾èµ–...
æ­£åœ¨è¿è¡Œ npm ci...
âœ… ä¾èµ–å®‰è£…å®Œæˆ

ğŸ”¨ æ„å»ºé¡¹ç›®...
âœ… é¡¹ç›®æ„å»ºå®Œæˆ
âœ… æ„å»ºè¾“å‡ºéªŒè¯é€šè¿‡
ğŸ“Š index.html å¤§å°: 45.32 KB

ğŸ“ åˆ›å»ºéƒ¨ç½²æ–‡ä»¶...
âœ… åˆ›å»º .nojekyll æ–‡ä»¶

ğŸ“‹ ç”Ÿæˆéƒ¨ç½²æŠ¥å‘Š...
âœ… éƒ¨ç½²æŠ¥å‘Šå·²ä¿å­˜: deployment-report.json

ğŸ‰ éƒ¨ç½²å‡†å¤‡å®Œæˆï¼
```

### deploy:full è¾“å‡º
```
ğŸš€ CNUserGroup å®Œæ•´éƒ¨ç½²å·¥ä½œæµ
================================

ğŸ“‹ æ­¥éª¤ 1/7: æ£€æŸ¥ Git çŠ¶æ€
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â„¹ï¸  æ‰§è¡Œ: git status
âœ… Git ä»“åº“æ£€æŸ¥é€šè¿‡
âœ… å·¥ä½œç›®å½•å¹²å‡€ï¼Œæ— éœ€æäº¤
âœ… è¿œç¨‹ä»“åº“: https://github.com/username/cnusergroup.git

ğŸ“‹ æ­¥éª¤ 2/7: æ‰§è¡Œéƒ¨ç½²å‡†å¤‡
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[... deploy:ready çš„å®Œæ•´è¾“å‡º ...]

ğŸ“‹ æ­¥éª¤ 3/7: æ¨é€åˆ° GitHub
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â„¹ï¸  æ¨é€åˆ° origin/main...
âœ… ä»£ç æ¨é€æˆåŠŸ
â„¹ï¸  æœ€æ–°æäº¤: a1b2c3d4

ğŸ“‹ æ­¥éª¤ 4/7: ç­‰å¾… GitHub Actions éƒ¨ç½²
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â„¹ï¸  GitHub Actions å°†è‡ªåŠ¨å¼€å§‹æ„å»ºå’Œéƒ¨ç½²...
â„¹ï¸  æœ€å¤§ç­‰å¾…æ—¶é—´: 300 ç§’
âœ… é¢„è®¡éƒ¨ç½²å·²å®Œæˆ

ğŸ“‹ æ­¥éª¤ 5/7: éªŒè¯éƒ¨ç½²ç»“æœ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[... deploy:verify çš„è¾“å‡º ...]

ğŸ‰ éƒ¨ç½²å®Œæˆï¼
================
â±ï¸  æ€»è€—æ—¶: 3 åˆ†é’Ÿ
ğŸ“ æäº¤: a1b2c3d4
ğŸŒ åˆ†æ”¯: main
âœ… æ„å»ºæ£€æŸ¥: 21/21 (100%)
```

### deploy:verify è¾“å‡º
```
ğŸŒ æ£€æŸ¥éƒ¨ç½²çŠ¶æ€
================

ğŸ”— ç›®æ ‡ç½‘ç«™: https://username.github.io/cnusergroup

ğŸ”Œ æµ‹è¯•ç½‘ç«™è¿é€šæ€§...
âœ… ç½‘ç«™å¯è®¿é—® - çŠ¶æ€ç : 200
âœ… å“åº”æ—¶é—´æ­£å¸¸ - 1245ms

ğŸ“„ æµ‹è¯•é¡µé¢å†…å®¹...
âœ… HTML æ–‡æ¡£ç»“æ„
âœ… é¡µé¢æ ‡é¢˜å­˜åœ¨
âœ… åŒ…å«ä¸­å›½ç”¨æˆ·ç»„å†…å®¹
âœ… CSS æ ·å¼åŠ è½½

ğŸ”— æµ‹è¯•å…³é”®é¡µé¢...
âœ… é¦–é¡µ (/) - çŠ¶æ€ç : 200
âœ… åŸå¸‚é¡µé¢ (/cities/) - çŠ¶æ€ç : 200
âœ… è‹±æ–‡é¦–é¡µ (/en/) - çŠ¶æ€ç : 200

âš¡ æµ‹è¯•æ€§èƒ½æŒ‡æ ‡...
âœ… é¦–å±åŠ è½½æ—¶é—´ - 1245ms
âœ… å¯ç”¨ Gzip å‹ç¼©
âœ… é¡µé¢å¤§å°åˆç† - 45.32 KB

ğŸ“Š éƒ¨ç½²æ£€æŸ¥æŠ¥å‘Š
================
âœ… é€šè¿‡æµ‹è¯•: 18/20 (90%)
âŒ å¤±è´¥æµ‹è¯•: 2

ğŸ‰ éƒ¨ç½²çŠ¶æ€ä¼˜ç§€ï¼ç½‘ç«™è¿è¡Œæ­£å¸¸ã€‚
```

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ

#### 1. Node.js ç‰ˆæœ¬è¿‡ä½
```
âŒ Node.js ç‰ˆæœ¬è¿‡ä½ (v16.14.0)ï¼Œéœ€è¦ 18.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬
```
**è§£å†³æ–¹æ¡ˆ**: å‡çº§ Node.js åˆ° 18+ ç‰ˆæœ¬

#### 2. ä¾èµ–å®‰è£…å¤±è´¥
```
âŒ ä¾èµ–å®‰è£…å¤±è´¥: npm ERR! peer dep missing
```
**è§£å†³æ–¹æ¡ˆ**: 
```bash
rm -rf node_modules package-lock.json
npm install
```

#### 3. æ„å»ºå¤±è´¥
```
âŒ é¡¹ç›®æ„å»ºå¤±è´¥: Error: Cannot resolve module
```
**è§£å†³æ–¹æ¡ˆ**: æ£€æŸ¥å¯¼å…¥è·¯å¾„å’Œæ–‡ä»¶æ˜¯å¦å­˜åœ¨

#### 4. Git æ¨é€å¤±è´¥
```
âŒ æ¨é€å¤±è´¥: Permission denied
```
**è§£å†³æ–¹æ¡ˆ**: æ£€æŸ¥ Git å‡­æ®å’Œä»“åº“æƒé™

#### 5. éƒ¨ç½²éªŒè¯å¤±è´¥
```
âŒ ç½‘ç«™å¯è®¿é—® - Request timeout
```
**è§£å†³æ–¹æ¡ˆ**: ç­‰å¾…å‡ åˆ†é’Ÿåé‡è¯•ï¼Œæˆ–æ£€æŸ¥ GitHub Pages è®¾ç½®

## ğŸ“‹ æœ€ä½³å®è·µ

### 1. éƒ¨ç½²å‰æ£€æŸ¥
```bash
# æ€»æ˜¯å…ˆæ£€æŸ¥é¡¹ç›®çŠ¶æ€
npm run deploy:check

# å¦‚æœæœ‰è­¦å‘Šï¼Œå…ˆä¿®å¤å†éƒ¨ç½²
npm run deploy:ready
```

### 2. åˆ†é˜¶æ®µéƒ¨ç½²
```bash
# å¼€å‘ç¯å¢ƒæµ‹è¯•
npm run dev

# æœ¬åœ°æ„å»ºæµ‹è¯•
npm run build
npm run preview

# éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
npm run deploy:full
```

### 3. éƒ¨ç½²åéªŒè¯
```bash
# éƒ¨ç½²å®ŒæˆåéªŒè¯
npm run deploy:verify

# æ£€æŸ¥æ€§èƒ½
npm run perf:audit

# æ£€æŸ¥å¯è®¿é—®æ€§
npm run a11y:test
```

### 4. å®šæœŸç»´æŠ¤
```bash
# æ¯å‘¨æ£€æŸ¥é¡¹ç›®çŠ¶æ€
npm run deploy:check

# æ¯æœˆæ›´æ–°ä¾èµ–
npm update
npm run deploy:ready
```

## ğŸ¯ è‡ªåŠ¨åŒ–å»ºè®®

### GitHub Actions é›†æˆ
åœ¨ `.github/workflows/deploy.yml` ä¸­æ·»åŠ éƒ¨ç½²åéªŒè¯ï¼š

```yaml
- name: Verify deployment
  run: |
    sleep 60  # ç­‰å¾…éƒ¨ç½²å®Œæˆ
    npm run deploy:verify
```

### æœ¬åœ° Git Hooks
åœ¨ `.git/hooks/pre-push` ä¸­æ·»åŠ éƒ¨ç½²å‰æ£€æŸ¥ï¼š

```bash
#!/bin/sh
npm run deploy:check
```

### CI/CD æµæ°´çº¿
```bash
# å®Œæ•´çš„ CI/CD æµç¨‹
npm run deploy:check    # æ£€æŸ¥
npm run build          # æ„å»º
npm run test           # æµ‹è¯•
npm run deploy:full    # éƒ¨ç½²
npm run deploy:verify  # éªŒè¯
```